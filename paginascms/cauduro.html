<html lang="pt-br">
  <head>
    <meta charset="utf-8"/>
    <title>ARqDéco</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <link rel="stylesheet" href="../css/style.css"/>
    <!-- Lightbox2 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet" />

    <style>
       .conteudo {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    padding: 40px;
    width: 100%;
    box-sizing: border-box;
    position: relative;
    z-index: 1;
    text-align: center;
  }

    </style>
  </head>
  <!-- Lightbox2 JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

  <body>
    <!-- MENU SUPERIOR FIXO -->
    <div id="menunavtop">
      <a href="../paginicial.html">
        <img class="group-icon" alt="" src="../assets/icones/Group.svg" style="width: 100px;">
      </a>
      <img class="menu-icon" id="openOverlay" alt="Abrir menu" src="../assets/icones/menu.svg" style="width: 30px;">
    </div>
    <!-- OVERLAY QUE APARECE ABAIXO DO MENU SUPERIOR -->
    <div id="overlayMenu" class="overlay-content" style="display: none; position: absolute; top: 60px; right: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000;">
      <a href="map.html"><div class="menu-item">
        <img src="../assets/icones/mapazul.svg" />
        <div>MAPA E ROTA DÉCO</div>
      </div></a>
      <a href="sobre.html"><div class="menu-item">
        <img src="../assets/icones/infoazul.svg" />
        <div>SOBRE O PROJETO</div>
      </div></a>
      <a href="creditos.html"><div class="menu-item">
        <img src="../assets/icones/pen-toolazul.svg" />
        <div>CRÉDITOS E CURADORIA</div>
      </div></a>
    </div>
    <script>
      const openBtn = document.getElementById("openOverlay");
      const overlay = document.getElementById("overlayMenu");

      openBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // Impede que o clique vá para o document
        const isVisible = overlay.style.display === "flex";
        overlay.style.display = isVisible ? "none" : "flex";
        overlay.style.flexDirection = "column";
      });

      // Fecha o menu se clicar fora dele
      document.addEventListener("click", (e) => {
        if (!overlay.contains(e.target) && !openBtn.contains(e.target)) {
          overlay.style.display = "none";
        }
      });

      // Evita que clique dentro do overlay feche ele
      overlay.addEventListener("click", (e) => {
        e.stopPropagation();
      });
    </script>

    
<div id="botoesRAVA">
  <button><a href="cauduroRA.html">Realidade Aumentada</a></button>
  <button><a href="cauduroVA.html">Virtualidade Aumentada</a></button>
</div>

<div id="descricaopredios" class="conteudo">
  <div style="width: 345px; top:60%; display: flex; flex-direction: column; gap: 20px;">
    <div style="color: #545454; font-size: 32px; font-family: 'League Spartan'; font-weight: 700;">
      Edifício Cauduro
    </div>
    <div style="color: #545454; font-size: 14px; font-family: 'League Spartan'; font-weight: 400;">
      O Edifício Cauduro, mais conhecido como “antigo Hotel Jantzen”, está localizado na Avenida Rio Branco, centro histórico da cidade de Santa Maria, no Rio Grande do Sul. A edificação, Art Déco, de uso misto, comercial e hospedagem, construído entre 1939 e 1941, representa um momento de auge do crescimento econômico e urbano de uma cidade no interior do estado.
    </div>
    <div style="color: #545454; font-size: 14px; font-family: 'League Spartan'; font-weight: 300;">
      Av. Rio Branco, 893 - Centro, Santa Maria
    </div>
  </div>
</div>

  <div id="a-frame">
  <a-scene
    embedded
    style="width: 100%; height: 300px; position: relative; z-index: 1; margin-top: 40px; background-color: #FFF9E9;"
    stats="false"
    vr-mode-ui="false">

    <!--Assets e imagens-->
    <a-assets>
      <a-asset-item id="cauduro3d" src="..\assets\3d\jantzen.glb"></a-asset-item>
    </a-assets>  

    <!--Cena e interface-->
    <a-camera position="0 0 0">
      <a-gltf-model id="predio" src="#cauduro3d" position="0 -2 -4" scale="0.4 0.4 0.4" rotation="0 45 0"></a-gltf-model>
    </a-camera>
  </a-scene>

  <script>
    const predio = document.getElementById("predio");

    let isDragging = false;
    let previousMouseX = 0;
    let rotationY = 45; // valor inicial
    let rotationX = 0; // valor inicial

    // Início do clique/arraste
    document.addEventListener("mousedown", (e) => {
      isDragging = true;
      previousMouseX = e.clientX;
    });

    // Fim do clique/arraste
    document.addEventListener("mouseup", () => {
      isDragging = false;
    });

    // Movimento do mouse
    document.addEventListener("mousemove", (e) => {
      if (!isDragging) return;

      const deltaX = e.clientX - previousMouseX;
      previousMouseX = e.clientX;

      rotationY += deltaX * 0.5; // ajuste de sensibilidade
      predio.setAttribute("rotation", `${rotationX} ${rotationY} 0`);
    });

    // Suporte para toque
    document.addEventListener("touchstart", (e) => {
      isDragging = true;
      previousMouseX = e.touches[0].clientX;
    });

    document.addEventListener("touchend", () => {
      isDragging = false;
    });

    document.addEventListener("touchmove", (e) => {
      if (!isDragging) return;

      const currentX = e.touches[0].clientX;
      const deltaX = currentX - previousMouseX;
      previousMouseX = currentX;

      rotationY += deltaX * 0.5;
      predio.setAttribute("rotation", `${rotationX} ${rotationY} 0`);
    });
  </script>
</div>
  
<!-- SEÇÃO DAS IMAGENS -->
<div id="dadoshistoricos" class="conteudo">
  <div style="display: flex; flex-direction: column; align-items: center; gap: 24px;">
    <div style="color: #545454; font-size: 32px; font-family: 'League Spartan'; font-weight: 700;">
      Dados históricos
    </div>
    <div id="imagem-container" style="display: flex; justify-content: center; align-items: center; gap: 17px; flex-wrap: wrap;">
      <img class="imagem-click" style="width: 200px; height: 250px; object-fit: cover; border-radius: 16px;" src="../assets/historico/14548841.jpg" />
      <img class="imagem-click" style="width: 200px; height: 250px; object-fit: cover; border-radius: 16px;" src="../assets/historico/Fotos Claudio Vaz 13 Abr 2012.jpg" />
      <img class="imagem-click" style="width: 200px; height: 250px; object-fit: cover; border-radius: 16px;" src="../assets/historico/images.jpeg" />
    </div>
    <div style="width: 255px; padding-bottom: 80px; text-align: left; color: #545454; font-size: 14px; font-family: 'League Spartan'; font-weight: 400;">
      Quem fundou o prédio:<br />
      O que era o prédio ao longo do tempo:<br />
      Referências:
    </div>
  </div>
</div>

<!-- POPUP CARROSSEL -->
<div id="popup" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); justify-content: center; align-items: center; z-index: 9999;">
  <span id="closeBtn" style="position: absolute; top: 20px; right: 30px; font-size: 32px; color: white; cursor: pointer;">&times;</span>
  <span id="prevBtn" style="position: absolute; left: 20px; font-size: 48px; color: white; cursor: pointer;">&#10094;</span>
  <img id="popupImg" style="max-width: 90vw; max-height: 90vh; border-radius: 12px;" />
  <span id="nextBtn" style="position: absolute; right: 20px; font-size: 48px; color: white; cursor: pointer;">&#10095;</span>
</div>

<script>
  const images = Array.from(document.querySelectorAll('.imagem-click'));
  const popup = document.getElementById('popup');
  const popupImg = document.getElementById('popupImg');
  const closeBtn = document.getElementById('closeBtn');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  let currentIndex = 0;

  function showImage(index) {
    popupImg.src = images[index].src;
    currentIndex = index;
    popup.style.display = 'flex';
  }

  images.forEach((img, i) => {
    img.addEventListener('click', () => showImage(i));
  });

  closeBtn.addEventListener('click', () => {
    popup.style.display = 'none';
  });

  prevBtn.addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    popupImg.src = images[currentIndex].src;
  });

  nextBtn.addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % images.length;
    popupImg.src = images[currentIndex].src;
  });

  // Também permite fechar ao clicar fora da imagem
  popup.addEventListener('click', (e) => {
    if (e.target === popup) popup.style.display = 'none';
  });

  // Setas do teclado (opcional)
  document.addEventListener('keydown', (e) => {
    if (popup.style.display === 'flex') {
      if (e.key === 'ArrowLeft') prevBtn.click();
      if (e.key === 'ArrowRight') nextBtn.click();
      if (e.key === 'Escape') closeBtn.click();
    }
  });
</script>


<div id="menunavfooter">
  <a href="../paginicial.html">
    <img src="../assets/icones/home.svg" alt="Início">
    <span>Início</span>
  </a>
  <a href="../sobre.html">
    <img src="../assets/icones/hexagon.svg" alt="Sobre">
    <span>Sobre</span>
  </a>
  <a href="../map.html">
    <img src="../assets/icones/map.svg" alt="Mapa">
    <span>Mapa</span>
  </a>
</div>

  </body>
</html>

